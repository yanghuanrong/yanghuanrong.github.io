import{u as e,o as c,c as p,w as u,_ as l,a as n,b as s}from"./app.4e6f1278.js";const k=n("div",{class:"prose m-auto"},[n("p",null,[s("\u8D77\u56E0\u662F\u516C\u53F8\u9879\u76EE\u4E2D\u9700\u8981\u7528\u5230\u516C\u5F0F\u8BA1\u7B97\uFF0C\u76F4\u63A5\u4F7F\u7528\u7684"),n("code",null,"eval"),s("\u8FDB\u884C\u5904\u7406\uFF0C\u7CBE\u5EA6\u95EE\u9898\u65E0\u53EF\u907F\u514D\u3002\u5728\u5B89\u88C5\u4E86\u76AE\u4F6C\u7684"),n("a",{href:"https://github.com/JachinZou/babel-plugin-arithmetic",target:"_blank",rel:"noopener"},"babel-plugin-arithmetic"),s("\u63D2\u4EF6\u540E\uFF0C\u4F9D\u7136\u6CA1\u6709\u5F97\u5230\u89E3\u51B3\uFF0C\u539F\u56E0\u662F\u6267\u884C"),n("code",null,"eval"),s("\u51FD\u6570\u5E76\u4E0D\u4F1A\u8D70"),n("code",null,"babel"),s("\u7F16\u8BD1\u3002")]),n("h3",{id:"\u8981\u505A\u7684\u4E8B\u60C5",tabindex:"-1"},[s("\u8981\u505A\u7684\u4E8B\u60C5 "),n("a",{class:"header-anchor",href:"#\u8981\u505A\u7684\u4E8B\u60C5","aria-hidden":"true"},"#")]),n("pre",{class:"language-js"},[n("code",{class:"language-js"},[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"formula"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"params"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token function"},"formula"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"0.1 + 0.2"),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token comment"},"// 0.3"),s(`
`)])]),n("p",null,"\u5B9E\u73B0\u4E00\u4E2A\u51FD\u6570\uFF0C\u8F93\u5165\u5B57\u7B26\u4E32\u516C\u5F0F\uFF0C\u8FD4\u56DE\u7684\u7ED3\u679C\uFF0C\u4E14\u65E0\u7CBE\u5EA6\u95EE\u9898"),n("h3",{id:"\u5B9E\u73B0",tabindex:"-1"},[s("\u5B9E\u73B0 "),n("a",{class:"header-anchor",href:"#\u5B9E\u73B0","aria-hidden":"true"},"#")]),n("pre",{class:"language-js"},[n("code",{class:"language-js"},[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"formula"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"list"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" result "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"calc"),n("span",{class:"token punctuation"},"("),s("list"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(" list"),n("span",{class:"token punctuation"},"."),s("length "),n("span",{class:"token operator"},"-"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"\u8BA1\u7B97\u7684\u7ED3\u679C\u503C\u7B49\u4E8E"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("result"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"calc"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("s"),n("span",{class:"token punctuation"},","),s(" l"),n("span",{class:"token punctuation"},","),s(" r")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" op "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"-"),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
    pri `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"1000"),s(),n("span",{class:"token operator"},"-"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
    cur_pri`),n("span",{class:"token punctuation"},","),s(`
    temp `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(`
    i `),n("span",{class:"token operator"},"="),s(" l"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token punctuation"},"("),s("i "),n("span",{class:"token operator"},"<="),s(" r"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    cur_pri `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"1000"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"switch"),s(),n("span",{class:"token punctuation"},"("),s("s"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},"'+'"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},"'-'"),n("span",{class:"token operator"},":"),s(`
        cur_pri `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"1"),s(),n("span",{class:"token operator"},"+"),s(" temp"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"break"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},"'*'"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},"'/'"),n("span",{class:"token operator"},":"),s(`
        cur_pri `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"2"),s(),n("span",{class:"token operator"},"+"),s(" temp"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"break"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},"'('"),n("span",{class:"token operator"},":"),s(`
        temp `),n("span",{class:"token operator"},"+="),s(),n("span",{class:"token number"},"100"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"break"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},"')'"),n("span",{class:"token operator"},":"),s(`
        temp `),n("span",{class:"token operator"},"-="),s(),n("span",{class:"token number"},"100"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"break"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("cur_pri "),n("span",{class:"token operator"},"<="),s(" pri"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      pri `),n("span",{class:"token operator"},"="),s(" cur_pri"),n("span",{class:"token punctuation"},";"),s(`
      op `),n("span",{class:"token operator"},"="),s(" i"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    i`),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("op "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token operator"},"-"),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"let"),s(" num "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"let"),s(" val "),n("span",{class:"token operator"},"="),s(" s"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"slice"),n("span",{class:"token punctuation"},"("),s("l"),n("span",{class:"token punctuation"},","),s(" r "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"trim"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token regex"},[n("span",{class:"token regex-delimiter"},"/"),n("span",{class:"token regex-source language-regex"},[n("span",{class:"token anchor function"},"^"),n("span",{class:"token char-class"},[n("span",{class:"token char-class-punctuation punctuation"},"["),s("+-"),n("span",{class:"token char-class-punctuation punctuation"},"]")]),n("span",{class:"token quantifier number"},"?"),n("span",{class:"token group punctuation"},"("),s("0"),n("span",{class:"token alternation keyword"},"|"),n("span",{class:"token group punctuation"},"("),n("span",{class:"token char-class"},[n("span",{class:"token char-class-punctuation punctuation"},"["),n("span",{class:"token range"},[s("1"),n("span",{class:"token range-punctuation operator"},"-"),s("9")]),n("span",{class:"token char-class-punctuation punctuation"},"]")]),n("span",{class:"token char-set class-name"},"\\d"),n("span",{class:"token quantifier number"},"*"),n("span",{class:"token group punctuation"},")"),n("span",{class:"token group punctuation"},")"),n("span",{class:"token group punctuation"},"("),n("span",{class:"token special-escape escape"},"\\."),n("span",{class:"token char-set class-name"},"\\d"),n("span",{class:"token quantifier number"},"+"),n("span",{class:"token group punctuation"},")"),n("span",{class:"token quantifier number"},"?"),n("span",{class:"token anchor function"},"$")]),n("span",{class:"token regex-delimiter"},"/")]),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"test"),n("span",{class:"token punctuation"},"("),s("val"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token function"},"parseFloat"),n("span",{class:"token punctuation"},"("),s("val"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"let"),s(" i "),n("span",{class:"token operator"},"="),s(" l"),n("span",{class:"token punctuation"},";"),s(" i "),n("span",{class:"token operator"},"<="),s(" r"),n("span",{class:"token punctuation"},";"),s(" i"),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("s"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"<"),s(),n("span",{class:"token string"},"'0'"),s(),n("span",{class:"token operator"},"||"),s(" s"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},">"),s(),n("span",{class:"token string"},"'9'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"continue"),n("span",{class:"token punctuation"},";"),s(`
      num `),n("span",{class:"token operator"},"="),s(" num "),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token number"},"10"),s(),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token punctuation"},"("),s("s"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"-"),s(),n("span",{class:"token string"},"'0'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"return"),s(" num"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token keyword"},"let"),s(" a "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"calc"),n("span",{class:"token punctuation"},"("),s("s"),n("span",{class:"token punctuation"},","),s(" l"),n("span",{class:"token punctuation"},","),s(" op "),n("span",{class:"token operator"},"-"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"let"),s(" b "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"calc"),n("span",{class:"token punctuation"},"("),s("s"),n("span",{class:"token punctuation"},","),s(" op "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(" r"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"switch"),s(),n("span",{class:"token punctuation"},"("),s("s"),n("span",{class:"token punctuation"},"["),s("op"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},"'+'"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token function"},"accAdd"),n("span",{class:"token punctuation"},"("),s("a"),n("span",{class:"token punctuation"},","),s(" b"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},"'-'"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token function"},"accSub"),n("span",{class:"token punctuation"},"("),s("a"),n("span",{class:"token punctuation"},","),s(" b"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},"'*'"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token function"},"accMul"),n("span",{class:"token punctuation"},"("),s("a"),n("span",{class:"token punctuation"},","),s(" b"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},"'/'"),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token function"},"accDiv"),n("span",{class:"token punctuation"},"("),s("a"),n("span",{class:"token punctuation"},","),s(" b"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("p",null,[s("\u6700\u540E\u8BA1\u7B97\u7684\u56DB\u4E2A\u51FD\u6570\u76F4\u63A5\u62FF\u4E86"),n("a",{href:"https://github.com/JachinZou/babel-plugin-arithmetic/blob/master/src/calc.js",target:"_blank",rel:"noopener"},"babel-plugin-arithmetic"),s("\u4E2D\u7684\u6E90\u7801\uFF0C\u7A0B\u5E8F\u5458\u62F7\u4EE3\u7801\u7684\u4E8B\u80FD\u53EB\u6284\u5417\uFF1F")])],-1),b={name:"formula",setup(r,{expose:t}){const a={title:"\u8868\u8FBE\u5F0F\u6C42\u503C\u5E76\u5904\u7406\u7CBE\u5EA6\u95EE\u9898",date:"2022-06-13T00:00:00.000Z",duration:"5min",meta:[{property:"og:title",content:"\u8868\u8FBE\u5F0F\u6C42\u503C\u5E76\u5904\u7406\u7CBE\u5EA6\u95EE\u9898"}]};return t({frontmatter:a}),e({title:"\u8868\u8FBE\u5F0F\u6C42\u503C\u5E76\u5904\u7406\u7CBE\u5EA6\u95EE\u9898",meta:[{property:"og:title",content:"\u8868\u8FBE\u5F0F\u6C42\u503C\u5E76\u5904\u7406\u7CBE\u5EA6\u95EE\u9898"}]}),(d,m)=>{const o=l;return c(),p(o,{frontmatter:a},{default:u(()=>[k]),_:1})}}};export{b as default};
